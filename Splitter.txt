import pandas as pd
import plotly.graph_objects as go
from plotly.subplots import make_subplots

# Dummy data
df = pd.DataFrame({
    "Tc": ["A", "A", "B", "B"],
    "subtc": ["X", "Y", "X", "Y"],
    "word acc": [12, 43, 85, 74],
    "phrase acc": [12, 21, 9, 92],
    "character acc": [12, 54, 12, 12],
})

# Example layout: 2 rows, 2 columns
fig = make_subplots(
    rows=2, cols=2,
    subplot_titles=["Tc = A1", "Tc = A2", "Tc = B1", "Tc = B2"]
)

# (Just an example trace)
for i in range(1, 3):
    for j in range(1, 3):
        fig.add_trace(go.Bar(x=["X", "Y"], y=[i * 10, j * 20]), row=i, col=j)

# Add row titles manually (annotations)
row_titles = ["Group 1", "Group 2"]
for i, title in enumerate(row_titles, start=1):
    fig.add_annotation(
        text=title,
        xref="paper",
        yref="paper",
        x=-0.07,             # position left of the plot
        y=1 - (i - 1) / len(row_titles),  # evenly spaced vertically
        xanchor="right",
        yanchor="middle",
        showarrow=False,
        font=dict(size=14, color="black")
    )

fig.update_layout(
    title="Grouped Bar Chart with Row Titles",
    template="plotly_white",
    height=600,
    width=900
)

fig.show()
