import plotly.graph_objects as go
from plotly.subplots import make_subplots

tcs = df["Tc"].unique()
fig = make_subplots(rows=1, cols=len(tcs), subplot_titles=[f"Tc = {t}" for t in tcs])

for i, tc in enumerate(tcs, start=1):
    subdf = df[df["Tc"] == tc]
    for metric in ["word acc", "phrase acc", "character acc"]:
        fig.add_trace(
            go.Bar(x=subdf["subtc"], y=subdf[metric], name=metric, showlegend=(i==1)),
            row=1, col=i
        )

fig.update_layout(
    barmode="group",
    title="Grouped Bar Chart per Tc",
    template="plotly_white",
    width=1000,
    height=500
)

fig.show()
