<WindowScroller>
  {({ height, isScrolling, onChildScroll, scrollTop }) => (
    <List
      autoHeight={true} // This is key for List to grow with content
      ref={listRef}
      width={1000} // Set a fixed or responsive width
      height={height} // WindowScroller provides the height of the window
      rowCount={messages.length}
      rowHeight={cache.current.rowHeight}
      rowRenderer={rowRenderer}
      isScrolling={isScrolling}
      onScroll={onChildScroll}
      scrollTop={scrollTop}
      overscanRowCount={10}
      scrollToIndex={messages.length - 1}
    />
  )}
</WindowScroller>
