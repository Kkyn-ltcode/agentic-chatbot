  const chatDisplayRef = useRef(null);
  const chatEndRef = useRef(null);

 const [isAtBottom, setIsAtBottom] = useState(true);

 const handleScroll = () => {
   if (!chatDisplayRef.current) return;
   const { scrollTop, scrollHeight, clientHeight } = chatDisplayRef.current;
   const atBottom = scrollHeight - scrollTop <= clientHeight + 20; // 20px tolerance
   setIsAtBottom(atBottom);
 };
